<h1 *ngIf="!locked" mat-dialog-title>Nuevo mensaje</h1>
<h1 *ngIf="locked" mat-dialog-title>Editar mensaje</h1>
<div mat-dialog-content>
    <mat-form-field>
        <mat-label>Tipo de mensaje</mat-label>
        <mat-select [(value)]="data.message.type" [formControl]="typeValidator" [disabled]="locked">
          <mat-option value="0">Recibido</mat-option>
          <mat-option value="1">Enviado</mat-option>
        </mat-select>
    </mat-form-field>
    <br>
    <mat-form-field>
        <input matInput [ngxMatDatetimePicker]="picker" placeholder="Escoge fecha y hora" [(ngModel)]="data.message.time" [formControl]="timeValidator">
        <mat-datepicker-toggle matSuffix [for]="picker" style="font-size: x-large;"></mat-datepicker-toggle>
        <ngx-mat-datetime-picker touchUi="true" #picker></ngx-mat-datetime-picker>
    </mat-form-field>
    <br>
    <mat-form-field>
        <mat-label>Estado del mensaje</mat-label>
        <mat-select [(value)]="data.message.status" [formControl]="statusValidator">
          <mat-option value="0">No enviado</mat-option>
          <mat-option value="1">Enviado</mat-option>
          <mat-option value="2">Recibido</mat-option>
          <mat-option value="3">Leido</mat-option>
        </mat-select>
    </mat-form-field>
</div>
<div mat-dialog-actions>
    <button *ngIf="!locked" mat-button [mat-dialog-close]="data.message" 
    color="accent" [disabled]="timeValidator.invalid || typeValidator.invalid || statusValidator.invalid">Enviar</button>
    <button *ngIf="locked" mat-button [mat-dialog-close]="data.message" 
    color="accent" [disabled]="timeValidator.invalid || typeValidator.invalid || statusValidator.invalid">Guardar</button>
    <button mat-button mat-dialog-close>Cerrar</button>
</div>